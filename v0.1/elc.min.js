var ELC_debug_mode=!1,ELC_initialized=!1;function ELC_logFunctionExecution(e,t,i){ELC_debug_mode&&null!=ELC_logFunctionExecution.caller&&(e?(console.time(ELC_logFunctionExecution.caller.name+(null!=i?" ("+i+")":"")+" execution time"),t?console.groupCollapsed(ELC_logFunctionExecution.caller.name+"("+Array.prototype.join.call(ELC_logFunctionExecution.caller.arguments,",")+") logging"+(null!=i?": "+i:"")):console.group(ELC_logFunctionExecution.caller.name+"("+Array.prototype.join.call(ELC_logFunctionExecution.caller.arguments,",")+") logging"+(null!=i?": "+i:""))):(console.timeEnd(ELC_logFunctionExecution.caller.name+(null!=i?" ("+i+")":"")+" execution time"),console.groupEnd()))}function ELC_getFieldValue(e,t,i){var l="";if(null!=e.parentNode.ELC_activeTemplate){var a=ELC_listDataModels[e.parentNode.ELC_activeTemplate].data[e.id.substring(e.parentNode.ELC_activeTemplate.length+1)];null!=a&&null!=a[t]&&(ELC_debug_mode&&console.log("Using '"+e.parentNode.ELC_activeTemplate+"' template value."),l=a[t])}if(""!=l);else if(null!=e.dataset[t+"Value"])l=e.dataset[t+"Value"];else{var n;"TR"!=e.tagName||isNaN(t)||(n=e.children[t]),null==n&&(n=e.getFirstElementWithData("field",t)),null!=n&&(l=null!=n.dataset.value?n.dataset.value:"html"==i?n.innerHTML:n.innerText)}return"number"==i?parseFloat(l):"date"==i?Date.parse(l):l}HTMLElement.prototype.getFirstElementWithData=function(e,t){for(var i=0;i<this.children.length;i++)if(null!=this.children[i].dataset[e]&&this.children[i].dataset[e]==t)return this.children[i];for(i=0;i<this.children.length;i++){var l=this.children[i].getFirstElementWithData(e,t);if(null!=l)return l}return null},HTMLTableSectionElement.prototype.updatePracticalCellIndices=function(){for(var e=[],t=0;t<this.rows.length;t++)e[t]=[];for(t=0;t<this.rows.length;t++)for(var i=this.rows.item(t),l=0;l<i.cells.length;l++){var a=i.cells.item(l);for(a.practicalCellIndex=a.cellIndex;e[t][a.practicalCellIndex];)a.practicalCellIndex++;for(var n=0;n<a.rowSpan;n++)for(var r=0;r<a.colSpan;r++)e[t+n][a.practicalCellIndex+r]=1}},HTMLSelectElement.prototype.getSelectedOptions=function(){if(null!=this.selectedOptions)return this.selectedOptions;for(var e=[],t=0;t<this.options.length;t++)"OPTION"==this.options[t].tagName&&this.options[t].selected&&0<this.options[t].value.length&&e.push(this.options[t]);return e};var ELC_listDataModels={"-pre-init-":[]};function ELC_setData(e,t,i,l){if(ELC_initialized){var a=document.getElementById(e);if(null!=a)if("object"==typeof t){for(var n in ELC_listDataModels)ELC_listDataModels[n].nextSibling==a&&(ELC_listDataModels[n].nextSibling=a.nextSibling);ELC_listDataModels[e]={parent:a.parentNode,template:a,data:t,nextSibling:a.nextSibling,ajax:l},a.parentNode.removeChild(a),i&&ELC_activateTemplate(e)}else a.parentNode.removeChild(a),console.error("Invalid data model specified in ELC_setData: "+String(t)+"; must be an array.");else null!=ELC_listDataModels[e]?"object"==typeof t?(ELC_listDataModels[e].parent.ELC_activeTemplate==e&&(ELC_deactivateTemplate(e),i=!0),ELC_listDataModels[e].data=t,i&&ELC_activateTemplate(e)):console.error("Invalid data model specified in ELC_setData: "+String(t)+"; must be an array. Note: The template has also already been loaded previously."):console.error("Invalid template id specified in ELC_setData: "+e)}else ELC_listDataModels["-pre-init-"].push({template_id:e,data:t,auto:i,ajax:l})}function ELC_activateTemplate(i){if(null!=ELC_listDataModels[i])if(null==ELC_listDataModels[i].parent.ELC_activeTemplate){ELC_logFunctionExecution(!0),ELC_executeHook("before_template_activate",ELC_listDataModels[i]),ELC_listDataModels[i].parent.ELC_activeTemplate=i;var e=document.createElement("template");if(null!=e.content)for(var l in ELC_listDataModels[i].data)null!=ELC_listDataModels[i].data[l]&&(e.innerHTML=ELC_listDataModels[i].template.outerHTML.replace(/\{\{(\w+)}}/g,function(e,t){return ELC_listDataModels[i].data[l][t]}).trim(),e.content.firstChild.id=i+"_"+l,ELC_listDataModels[i].parent.insertBefore(e.content.firstChild,ELC_listDataModels[i].nextSibling));else{for(var t=["div","tbody"],a=0;(e=document.createElement(t[a])).innerHTML=ELC_listDataModels[i].template.outerHTML.trim(),a++,null==e.firstChild.tagName&&a<t.length;);if(null==e.firstChild.tagName)console.error("Unable to dynamically create elements of type: "+ELC_listDataModels[i].template.tagName);else for(var l in ELC_listDataModels[i].data)null!=ELC_listDataModels[i].data[l]&&(e.innerHTML=ELC_listDataModels[i].template.outerHTML.replace(/\{\{(\w+)}}/g,function(e,t){return ELC_listDataModels[i].data[l][t]}).trim(),e.firstChild.id=i+"_"+l,ELC_listDataModels[i].parent.insertBefore(e.firstChild,ELC_listDataModels[i].nextSibling))}ELC_executeHook("after_template_activate",ELC_listDataModels[i]),ELC_logFunctionExecution(!1)}else ELC_listDataModels[i].parent.ELC_activeTemplate==i?console.warn("Template '"+i+"' is already active."):console.error("Tried to activate template '"+i+"' when template '"+ELC_listDataModels[i].parent.ELC_activeTemplate+"' is already active. Only one template can be active on a given element at a time.");else console.error("Invalid template id specified in ELC_activateTemplate: "+i)}function ELC_deactivateTemplate(e){if(null!=ELC_listDataModels[e])if(ELC_listDataModels[e].parent.ELC_activeTemplate==e){for(var t in ELC_logFunctionExecution(!0),ELC_executeHook("before_template_deactivate",ELC_listDataModels[e]),ELC_listDataModels[e].data)if(null!=ELC_listDataModels[e].data[t]){var i=e+"_"+t;ELC_listDataModels[e].parent.removeChild(document.getElementById(i))}ELC_listDataModels[e].parent.ELC_activeTemplate=null,ELC_executeHook("after_template_deactivate",ELC_listDataModels[e]),ELC_logFunctionExecution(!1)}else console.warn("Template '"+e+"' is not active.");else console.error("Invalid template id specified in ELC_deactivateTemplate: "+e)}var ELC_hooks={before_update:[],after_update:[],before_template_activate:[],after_template_activate:[],before_template_deactivate:[],after_template_deactivate:[],filters_changed_by_controller:[]};function ELC_addHook(e,t,i){null!=ELC_hooks[e]?ELC_hooks[e].push({callback:t,params:i}):console.error("Invalid ELC hook: "+e)}function ELC_executeHook(t,e){if(null!=ELC_hooks[t])for(var i in ELC_hooks[t])try{ELC_hooks[t][i].callback.apply(e,ELC_hooks[t][i].params)}catch(e){console.warn("Error while running '"+t+"' hook #"+i+" ("+ELC_hooks[t][i].callback.name+"): ",e)}else console.error("Invalid ELC hook: "+t)}function ELC_update(e,t){ELC_debug_mode&&("mutation"==t&&console.log("ELC_update() called on '"+e.id+"' as the result of a mutation."),ELC_logFunctionExecution(!0));for(var i="TABLE"==e.tagName?e.tBodies:[e],l=0;l<i.length;l++)null!=i[l].ELC_MutationObserver&&i[l].ELC_MutationObserver.disconnect();ELC_executeHook("before_update",e),"page"!=t&&"filter"!=t&&ELC_sort_list(e),"page"!=t&&"sort"!=t&&ELC_apply_filter(e),ELC_display_page(e),ELC_addAlternatingClasses(e),ELC_executeHook("after_update",e);for(l=0;l<i.length;l++)null!=i[l].ELC_MutationObserver&&i[l].ELC_MutationObserver.observe(i[l],{childList:!0});ELC_logFunctionExecution(!1)}function ELC_update_request(e,t){var i=new XMLHttpRequest;i.onreadystatechange=ELC_update_response,i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/json"),i.send({x:e.ELC_current_sort_field,x:e.ELC_current_sort_reversed,x:e.ELC_current_sort_type})}function ELC_update_response(e,t,i){console.log(this,e,t,i)}function ELC_addAlternatingClasses(e){for(var t="TABLE"==e.tagName?e.rows:e.children,i=!1,l=0;l<t.length;l++)"THEAD"!=t[l].parentNode.tagName&&"TFOOT"!=t[l].parentNode.tagName&&(t[l].classList.remove("elceven"),t[l].classList.remove("elcodd"),t[l].classList.contains("paged-out")||t[l].classList.contains("filtered-out")&&null==e.dataset.pagesIncludeFiltered||(t[l].classList.add(i?"elceven":"elcodd"),i=!i))}function ELC_observerCallback(e,t){var i=[];for(var l in e)ELC_debug_mode&&console.log("MutationObserver observed a mutation: ",e[l]),-1==i.indexOf(e[l].target)&&"childList"==e[l].type&&(i.push(e[l].target),"TBODY"==e[l].target.tagName?ELC_update(e[l].target.parentNode,"mutation"):ELC_update(e[l].target,"mutation"))}function ELC_getListContainer(e,t,i){do{if(e.classList.contains(t))return e;if(null!=e.dataset.container)for(var l in i){if(e.classList.contains(i[l]))var a=document.getElementById(e.dataset.container);if(null!=a&&a.classList.contains(t))return a}e=e.parentElement}while(null!=e);return null}function ELC_sort_event_listener(e){if(null==e||null==e.detail||!e.detail.no_ELC)if(null!=this.ELC_list_container){for(var t in ELC_logFunctionExecution(!0),this.ELC_list_container.ELC_current_sort_type=this.ELC_sort_type,this.ELC_list_container.ELC_current_sort_field==this.ELC_field?this.ELC_list_container.ELC_current_sort_reversed=!this.ELC_list_container.ELC_current_sort_reversed:(this.ELC_list_container.ELC_current_sort_field=this.ELC_field,this.ELC_list_container.ELC_current_sort_reversed=null!=this.dataset.order&&"d"==this.dataset.order.toLowerCase()[0]),this.ELC_list_container.ELC_list_sorters)this.ELC_list_container.ELC_list_sorters[t].classList.remove("sortup"),this.ELC_list_container.ELC_list_sorters[t].classList.remove("sortdown"),this.ELC_list_container.ELC_list_sorters[t].ELC_field==this.ELC_list_container.ELC_current_sort_field&&(this.ELC_list_container.ELC_current_sort_reversed?this.ELC_list_container.ELC_list_sorters[t].classList.add("sortup"):this.ELC_list_container.ELC_list_sorters[t].classList.add("sortdown"));null!=e&&null!=e.detail&&e.detail.ELC_noUpdate||ELC_update(this.ELC_list_container,"sort"),ELC_logFunctionExecution(!1)}else console.error("Cannot find the table this sorter is meant to apply to: "+$(this))}function ELC_sort_list(i){if(null!=i.ELC_current_sort_field){ELC_logFunctionExecution(!0);for(var e="TABLE"==i.tagName?i.tBodies:[i],t=0;t<e.length;t++){for(var l=e[t],a=0;a<l.children.length;a++)l.children[a].ELC_current_sort_value=ELC_getFieldValue(l.children[a],i.ELC_current_sort_field,i.ELC_current_sort_type),null!=i.dataset.sortTransitionTime&&(l.children[a].ELC_prevTop=l.children[a].offsetTop,l.children[a].ELC_prevLeft=l.children[a].offsetLeft);ELC_logFunctionExecution(!0,!1,"actual merge sort"),ELC_merge_sort(l.children,i,l),ELC_logFunctionExecution(!1,!1,"actual merge sort")}if(null!=i.dataset.sortTransitionTime){ELC_debug_mode&&console.time("Animation execution time");var n="TABLE"==i.tagName?i.rows:i.children;for(a=0;a<n.length;a++){var r=n[a];if("THEAD"!=r.parentNode.tagName&&"TFOOT"!=r.parentNode.tagName)if("static"==window.getComputedStyle(r,null).getPropertyValue("position")&&(r.style.position="relative"),"TR"==r.tagName)for(t=0;t<r.children.length;t++){var s=r.children[t];"static"==window.getComputedStyle(s,null).getPropertyValue("position")&&(s.style.position="relative"),s.style.transition="all 0s",s.style.top=r.ELC_prevTop-r.offsetTop+"px",s.style.left=r.ELC_prevLeft-r.offsetLeft+"px",setTimeout(function(e,t){t.style.transition="all "+i.dataset.sortTransitionTime,setTimeout(function(e,t){t.style.top="0px",t.style.left="0px"},1,e,t)},1,r,s)}else r.style.transition="all 0s",r.style.top=r.ELC_prevTop-r.offsetTop+"px",r.style.left=r.ELC_prevLeft-r.offsetLeft+"px",setTimeout(function(e){e.style.transition="all "+i.dataset.sortTransitionTime,setTimeout(function(e){e.style.top="0px",e.style.left="0px"},1,e)},1,r)}ELC_debug_mode&&console.timeEnd("Animation execution time")}ELC_logFunctionExecution(!1)}}function ELC_merge_sort(e,t,i){var l=Array.prototype.slice.call(e,0,Math.floor(e.length/2)),a=Array.prototype.slice.call(e,Math.floor(e.length/2));1<l.length&&ELC_merge_sort(l,t),1<a.length&&ELC_merge_sort(a,t);for(var n=0;n<e.length;n++)!l.length||a.length&&0<ELC_compare(a[0],l[0],t)?null!=i&&i.children.length==e.length?i.appendChild(a.shift()):e[n]=a.shift():null!=i&&i.children.length==e.length?i.appendChild(l.shift()):e[n]=l.shift()}function ELC_compare(e,t,i){return"number"==i.ELC_current_sort_type?(i.ELC_current_sort_reversed?-1:1)*(t.ELC_current_sort_value-e.ELC_current_sort_value):(i.ELC_current_sort_reversed?-1:1)*t.ELC_current_sort_value.toString().localeCompare(e.ELC_current_sort_value.toString())}function ELC_apply_filter(e){if(null!=e.ELC_active_filters){ELC_logFunctionExecution(!0);for(var t="TABLE"==e.tagName?e.rows:e.children,i=0;i<t.length;i++)if("THEAD"!=t[i].parentNode.tagName&&"TFOOT"!=t[i].parentNode.tagName){for(var l in ELC_logFunctionExecution(!0,!0,"element#"+i),t[i].classList.remove("filtered-out"),e.ELC_active_filters){if(l)var a=null!=e.ELC_filter_columns&&null!=e.ELC_filter_columns[l]?e.ELC_filter_columns[l]:l,n={text:ELC_getFieldValue(t[i],a,"text").toString().toLowerCase(),number:ELC_getFieldValue(t[i],a,"number"),html:ELC_getFieldValue(t[i],a,"html").toString().toLowerCase(),date:ELC_getFieldValue(t[i],a,"date")};else n={text:t[i].innerText.toString().toLowerCase(),number:t[i].innerText.toString().toLowerCase(),html:t[i].innerHTML.toString().toLowerCase(),date:t[i].innerText.toString().toLowerCase()};var r=e.ELC_active_filters[l],s=!0;if(null!=r.and&&0<Object.keys(r.and).length)for(var o in r.and){if("date"==r.and[o].type&&r.and[o].value!=n.date){s=!1;break}if("number"==r.and[o].type){if(">="==r.and[o].comparison){if(n.number<r.and[o].value){s=!1;break}}else if("<="==r.and[o].comparison){if(n.number>r.and[o].value){s=!1;break}}else if(">"==r.and[o].comparison){if(n.number<=r.and[o].value){s=!1;break}}else if("<"==r.and[o].comparison){if(n.number>=r.and[o].value){s=!1;break}}else if(n.number!=r.and[o].value){s=!1;break}}else if("html"==r.and[o].type){if("="==r.and[o].comparison){if(n.html!=r.and[o].value.toLowerCase()){s=!1;break}}else if(-1==n.html.indexOf(r.and[o].value.toLowerCase())){s=!1;break}}else if("text"==r.and[o].type||""==r.and[o].type)if("="==r.and[o].comparison){if(n.text!=r.and[o].value.toLowerCase()){s=!1;break}}else if(-1==n.text.indexOf(r.and[o].value.toLowerCase())){s=!1;break}}if(!s){t[i].classList.add("filtered-out");break}var _=!0;if(null!=r.or&&0<Object.keys(r.or).length)for(var o in _=!1,r.or){if("date"==r.or[o].type&&r.or[o].value==n.date){_=!0;break}if("number"==r.or[o].type&&r.or[o].value==n.number){_=!0;break}if("html"==r.or[o].type){if("="==r.or[o].comparison){if(n.html==r.or[o].value.toLowerCase()){_=!0;break}}else if(-1!=n.html.indexOf(r.or[o].value.toLowerCase())){_=!0;break}}else if("text"==r.or[o].type||""==r.or[o].type)if("="==r.or[o].comparison){if(n.text==r.or[o].value.toLowerCase()){_=!0;break}}else if("~="==r.or[o].comparison){if(n.text.match(new RegExp("\\b"+r.or[o].value.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\b"))){_=!0;break}}else if(-1!=n.text.indexOf(r.or[o].value.toLowerCase())){_=!0;break}}if(!_){t[i].classList.add("filtered-out");break}var c=!0;if(null!=r.not&&0<Object.keys(r.not).length)for(var o in r.not){if("date"==r.not[o].type&&r.not[o].value==n.date){c=!1;break}if("number"==r.not[o].type&&r.not[o].value==n.number){c=!1;break}if("html"==r.not[o].type){if("="==r.not[o].comparison){if(n.html==r.not[o].value.toLowerCase()){c=!1;break}}else if(-1!=n.html.indexOf(r.not[o].value.toLowerCase())){c=!1;break}}else if("text"==r.not[o].type||""==r.not[o].type)if("="==r.not[o].comparison){if(n.text==r.not[o].value.toLowerCase()){c=!1;break}}else if(-1!=n.text.indexOf(r.not[o].value.toLowerCase())){c=!1;break}}if(!c){t[i].classList.add("filtered-out");break}}ELC_logFunctionExecution(!1,!0,"element#"+i)}ELC_logFunctionExecution(!1)}}function ELC_filter_controller_listener(e){ELC_logFunctionExecution(!0);var t={};for(var i in this.ELC_filters){if(null!=this.ELC_filters[i].ELC_clearers&&-1!=this.ELC_filters[i].ELC_clearers.indexOf(this)&&("checkbox"==this.ELC_filters[i].type||"radio"==this.ELC_filters[i].type?this.ELC_filters[i].checked=""==this.ELC_filters[i].value:this.ELC_filters[i].value="",this.ELC_filters[i].dispatchEvent(new CustomEvent("change",{detail:{no_ELC:1}})),ELC_executeHook("filters_changed_by_controller",this.ELC_filters[i])),null!=this.ELC_filters[i].ELC_resetters&&-1!=this.ELC_filters[i].ELC_resetters.indexOf(this)){if("select-multiple"==this.ELC_filters[i].type)for(var l=0;l<this.ELC_filters[i].options.length;l++)this.ELC_filters[i].options[l].selected=this.ELC_filters[i].options[l].ELC_resetValue;else"checkbox"==this.ELC_filters[i].type||"radio"==this.ELC_filters[i].type?this.ELC_filters[i].checked=this.ELC_filters[i].ELC_resetValue:this.ELC_filters[i].value=this.ELC_filters[i].ELC_resetValue;this.ELC_filters[i].dispatchEvent(new CustomEvent("change",{detail:{no_ELC:1}})),ELC_executeHook("filters_changed_by_controller",this.ELC_filters[i])}null!=this.ELC_filters[i].ELC_appliers&&-1==this.ELC_filters[i].ELC_appliers.indexOf(this)||(null==t[this.ELC_filters[i].ELC_list_container.id]&&(t[this.ELC_filters[i].ELC_list_container.id]={ELC_list_container:this.ELC_filters[i].ELC_list_container,ELC_filters:[]}),t[this.ELC_filters[i].ELC_list_container.id].ELC_filters.push(this.ELC_filters[i]))}for(var i in console.log(t),t)ELC_filter_change_listener.call(t[i],e);ELC_logFunctionExecution(!1)}function ELC_filter_change_listener(e){null!=e&&null!=e.detail&&e.detail.no_ELC||(null!=this.ELC_list_container?(clearTimeout(this.ELC_list_container.ELC_filter_delay),null!=e&&"keyup"==e.type?this.ELC_list_container.ELC_filter_delay=setTimeout(function(e,t){ELC_filter_change_listener_step2.call(e,t)},250,this,e):ELC_filter_change_listener_step2.call(this,e)):console.error("Cannot find the table this filter is meant to apply to: "+$(this)))}function ELC_filter_change_listener_step2(e){ELC_logFunctionExecution(!0),this.ELC_list_container.ELC_active_filters={};for(var t=0;t<this.ELC_list_container.ELC_list_filters.length;t++){var i=this.ELC_list_container.ELC_list_filters[t];if(0!=i.value.length){var l=i.ELC_field;switch(null==this.ELC_list_container.ELC_active_filters[l]&&(this.ELC_list_container.ELC_active_filters[l]={}),i.type){case"checkbox":i.checked&&(null==this.ELC_list_container.ELC_active_filters[l].or&&(this.ELC_list_container.ELC_active_filters[l].or={}),this.ELC_list_container.ELC_active_filters[l].or[t]={source:i,value:i.value,type:"text",comparison:i.ELC_filter_comparison});break;case"radio":i.checked&&(null==this.ELC_list_container.ELC_active_filters[l].and&&(this.ELC_list_container.ELC_active_filters[l].and={}),this.ELC_list_container.ELC_active_filters[l].and[t]={source:i,value:i.value,type:"text",comparison:i.ELC_filter_comparison});break;case"number":null==this.ELC_list_container.ELC_active_filters[l].and&&(this.ELC_list_container.ELC_active_filters[l].and={}),this.ELC_list_container.ELC_active_filters[l].and[t]={source:i,value:i.value,type:"number",comparison:i.ELC_filter_comparison};break;case"select-one":null==this.ELC_list_container.ELC_active_filters[l].and&&(this.ELC_list_container.ELC_active_filters[l].and={}),this.ELC_list_container.ELC_active_filters[l].and[t]={source:i,value:i.value,type:"text",comparison:i.ELC_filter_comparison};break;case"date":case"datetime-local":null==this.ELC_list_container.ELC_active_filters[l].and&&(this.ELC_list_container.ELC_active_filters[l].and={}),this.ELC_list_container.ELC_active_filters[l].and[t]={source:i,value:Date.parse(i.value),type:"date",comparison:i.ELC_filter_comparison};break;case"select-multiple":for(var a=i.getSelectedOptions(),n=0;n<a.length;n++)null!=a[n].value&&0<a[n].value.length&&(null==this.ELC_list_container.ELC_active_filters[l].or&&(this.ELC_list_container.ELC_active_filters[l].or={}),this.ELC_list_container.ELC_active_filters[l].or[t+"m"+n]={source:i,value:a[n].value,type:"text",comparison:i.ELC_filter_comparison});break;case"text":var r=i.value;if(r){var s=r.split(" ");for(var o in s)"+"==s[o][0]&&1<s[o].length?(null==this.ELC_list_container.ELC_active_filters[l].and&&(this.ELC_list_container.ELC_active_filters[l].and={}),this.ELC_list_container.ELC_active_filters[l].and[t+"t"+o]={source:i,value:s[o].substr(1),type:"text",comparison:i.ELC_filter_comparison}):"|"==s[o][0]&&1<s[o].length?(null==this.ELC_list_container.ELC_active_filters[l].or&&(this.ELC_list_container.ELC_active_filters[l].or={}),this.ELC_list_container.ELC_active_filters[l].or[t+"t"+o]={source:i,value:s[o].substr(1),type:"text",comparison:i.ELC_filter_comparison}):"-"==s[o][0]&&1<s[o].length?(null==this.ELC_list_container.ELC_active_filters[l].not&&(this.ELC_list_container.ELC_active_filters[l].not={}),this.ELC_list_container.ELC_active_filters[l].not[t+"t"+o]={source:i,value:s[o].substr(1),type:"text",comparison:i.ELC_filter_comparison}):0<s[o].length&&(null==this.ELC_list_container.ELC_active_filters[l].and&&(this.ELC_list_container.ELC_active_filters[l].and={}),this.ELC_list_container.ELC_active_filters[l].and[t+"t"+o]={source:i,value:s[o],type:"text",comparison:i.ELC_filter_comparison})}break;default:console.warn("No filter processing available for element of type: "+i.type)}}}if(null!=this.ELC_list_container.ELC_filter_list)for(var t in this.ELC_list_container.ELC_filter_list.innerHTML="",this.ELC_list_container.ELC_active_filters){for(var n in this.ELC_list_container.ELC_active_filters[t].and)ELC_createFilterListElement("and",this.ELC_list_container,t,this.ELC_list_container.ELC_active_filters[t].and[n]);for(var n in this.ELC_list_container.ELC_active_filters[t].or)ELC_createFilterListElement("or",this.ELC_list_container,t,this.ELC_list_container.ELC_active_filters[t].or[n]);for(var n in this.ELC_list_container.ELC_active_filters[t].not)ELC_createFilterListElement("not",this.ELC_list_container,t,this.ELC_list_container.ELC_active_filters[t].not[n])}null!=e&&null!=e.detail&&e.detail.ELC_noUpdate||ELC_update(this.ELC_list_container,"filter"),ELC_logFunctionExecution(!1)}function ELC_createFilterListElement(e,t,i,l){var a=document.createElement("span");a.classList.add("filter-"+e),a.ELC_list_container=t,a.ELC_type=e,a.ELC_field=i,"date"==l.type?a.ELC_value=new Date(l.value).toLocaleString():a.ELC_value=l.value,a.appendChild(document.createTextNode((i?i+":":"")+a.ELC_value)),a.addEventListener("click",remove_filter),t.ELC_filter_list.appendChild(a)}function remove_filter(e){console.log(e)}function ELC_perpage_change_listener(e){if(null==e||null==e.detail||!e.detail.no_ELC){var t=parseInt(this.value);t?this.ELC_list_container.ELC_perpage=t:this.ELC_list_container.ELC_perpage?this.value=this.ELC_list_container.ELC_perpage:this.value=this.ELC_list_container.ELC_perpage=60,null!=e&&null!=e.detail&&e.detail.ELC_noUpdate||ELC_update(this.ELC_list_container,"page")}}function ELC_display_page(e){if(null!=e.ELC_current_page){ELC_logFunctionExecution(!0);for(var t="TABLE"==e.tagName?e.tBodies[0]:e,i=[],l=0;l<t.children.length;l++)t.children[l].classList.remove("paged-out"),t.children[l].classList.contains("filtered-out")&&null==e.dataset.pagesIncludeFiltered||i.push(t.children[l]);e.ELC_perpage||(console.warn("Could not calculate page count because perpage value was not properly set; defaulting to 60."),e.ELC_perpage=60);var a=Math.ceil(i.length/e.ELC_perpage);if(i.length?e.ELC_current_page<0?e.ELC_current_page=0:e.ELC_current_page>=a&&(e.ELC_current_page=a-1):(console.warn("Cannot paginate a list that has no elements."),e.ELC_current_page=-1),e.ELC_current_page<=0)for(var l in e.ELC_pageup_buttons)e.ELC_pageup_buttons[l].classList.remove("active");else for(var l in e.ELC_pageup_buttons)e.ELC_pageup_buttons[l].classList.add("active");if(e.ELC_current_page>=a-1)for(var l in e.ELC_pagedown_buttons)e.ELC_pagedown_buttons[l].classList.remove("active");else for(var l in e.ELC_pagedown_buttons)e.ELC_pagedown_buttons[l].classList.add("active");for(var l in i)(l<e.ELC_current_page*e.ELC_perpage||l>=(e.ELC_current_page+1)*e.ELC_perpage)&&i[l].classList.add("paged-out");for(var l in e.ELC_currentpage_indicators)e.ELC_currentpage_indicators[l].innerHTML=e.ELC_current_page+1;for(var l in e.ELC_maxpage_indicators)e.ELC_maxpage_indicators[l].innerHTML=a;ELC_logFunctionExecution(!1)}}function ELC_initialize(t){ELC_logFunctionExecution(!0);try{var i=new CustomEvent(null!=t?t.type:"init",{detail:{ELC_noUpdate:1}})}catch(e){(i=document.createEvent("customevent")).initCustomEvent(null!=t?t.type:"init",!1,!1,{detail:{ELC_noUpdate:1}})}for(var e in ELC_initialized=!0,ELC_listDataModels["-pre-init-"])ELC_setData(ELC_listDataModels["-pre-init-"][e].template_id,ELC_listDataModels["-pre-init-"][e].data,ELC_listDataModels["-pre-init-"][e].auto,ELC_listDataModels["-pre-init-"][e].ajax);var l=[],a=document.getElementsByClassName("sortable");for(e=0;e<a.length;e++){for(var n in null==a[e].ELC_list_sorters&&(a[e].ELC_list_sorters=[]),a[e].ELC_list_sorters)a[e].ELC_list_sorters[n].ELC_list_container=ELC_getListContainer(a[e].ELC_list_sorters[n],"sortable",["sort","sort-group"]),a[e].ELC_list_sorters[n].ELC_list_container!=a[e]&&(a[e].ELC_list_sorters[n].removeEventListener("click",ELC_sort_event_listener),delete a[e].ELC_list_sorters[n]);-1==l.indexOf(a[e])&&l.push(a[e])}var r=document.getElementsByClassName("filterable");for(e=0;e<r.length;e++){for(var n in null==r[e].ELC_list_filters&&(r[e].ELC_list_filters=[]),r[e].ELC_filter_delay=setTimeout(function(){},1),r[e].ELC_list_filters)r[e].ELC_list_filters[n].ELC_list_container=ELC_getListContainer(r[e].ELC_list_filters[n],"filterable",["filter","filter-group"]),r[e].ELC_list_filters[n].ELC_list_container!=r[e]&&(r[e].ELC_list_filters[n].removeEventListener("keyup",ELC_filter_change_listener),r[e].ELC_list_filters[n].removeEventListener("change",ELC_filter_change_listener),delete r[e].ELC_list_filters[n]);-1==l.indexOf(r[e])&&l.push(r[e])}var s=document.getElementsByClassName("paged");for(e=0;e<s.length;e++)null==s[e].ELC_current_page&&(s[e].ELC_current_page=0),null==s[e].ELC_pageup_buttons&&(s[e].ELC_pageup_buttons=[]),null==s[e].ELC_pagedown_buttons&&(s[e].ELC_pagedown_buttons=[]),null==s[e].ELC_currentpage_indicators&&(s[e].ELC_currentpage_indicators=[]),null==s[e].ELC_maxpage_indicators&&(s[e].ELC_maxpage_indicators=[]),s[e].dataset.perpage&&(s[e].ELC_perpage=parseInt(s[e].dataset.perpage)),-1==l.indexOf(s[e])&&l.push(s[e]);for(var e in l)"static"==l[e].style.position&&(l[e].style.position="relative"),"TABLE"==l[e].tagName&&l[e].tHead.updatePracticalCellIndices();for(e=0;e<r.length;e++)if("TABLE"==r[e].tagName){r[e].ELC_filter_columns={};for(n=0;n<r[e].tHead.rows.length;n++)for(var o=0;o<r[e].tHead.rows[n].cells.length;o++){var _=r[e].tHead.rows[n].cells[o];null!=_.dataset.field?r[e].ELC_filter_columns[_.dataset.field.toLowerCase()]=_.practicalCellIndex:r[e].ELC_filter_columns[_.innerText.toLowerCase()]=_.practicalCellIndex}}var c=document.getElementsByClassName("sort");for(e=0;e<c.length;e++)c[e].ELC_list_container=ELC_getListContainer(c[e],"sortable",["sort","sort-group"]),null!=c[e].ELC_list_container&&(null!=c[e].practicalCellIndex?c[e].ELC_field=c[e].practicalCellIndex:null!=c[e].dataset.field?c[e].ELC_field=c[e].dataset.field:c[e].ELC_field=c[e].innerText,"number"==c[e].dataset.type||"html"==c[e].dataset.type||"text"==c[e].dataset.type||"date"==c[e].dataset.type?c[e].ELC_sort_type=c[e].dataset.type:c[e].ELC_sort_type="text",-1==c[e].ELC_list_container.ELC_list_sorters.indexOf(c[e])&&(c[e].ELC_list_container.ELC_list_sorters.push(c[e]),c[e].addEventListener("click",ELC_sort_event_listener)));var L=document.getElementsByClassName("sort-initial");for(e=0;e<L.length;e++)null!=L[e].ELC_list_container&&(ELC_sort_event_listener.call(L[e],i),L[e].classList.remove("sort-initial"));var E=document.getElementsByClassName("filter-list");for(e=0;e<E.length;e++)E[e].ELC_list_container=ELC_getListContainer(E[e],"filterable",["filter-list","filter-group"]),null!=E[e].ELC_list_container&&E[e].ELC_list_container.ELC_filter_list!=E[e]&&(E[e].ELC_list_container.ELC_filter_list=E[e]);var C=document.getElementsByClassName("filter");for(e=0;e<C.length;e++)if(C[e].ELC_list_container=ELC_getListContainer(C[e],"filterable",["filter","filter-group"]),null!=C[e].ELC_list_container){switch(null!=C[e].dataset.field?C[e].ELC_field=C[e].dataset.field:C[e].ELC_field="",C[e].dataset.comparison){case">=":case"=>":C[e].ELC_filter_comparison=">=";break;case"<=":case"=<":C[e].ELC_filter_comparison="<=";break;case">":C[e].ELC_filter_comparison=">";break;case"<":C[e].ELC_filter_comparison="<";break;case"==":case"=":C[e].ELC_filter_comparison="=";break;case"*=":C[e].ELC_filter_comparison="*=";break;case"~=":C[e].ELC_filter_comparison="~=";break;default:C[e].ELC_filter_comparison=""}if(null!=C[e].dataset.applyControl){if("."==C[e].dataset.applyControl[0])var u=document.getElementsByClassName(C[e].dataset.applyControl.substr(1));else u=document.getElementById(C[e].dataset.applyControl.substr("#"==C[e].dataset.applyControl[0]?1:0));if(null!=u&&(null==u.length||0<u.length)){var d=null==u.length?[u]:u;for(n=0;n<d.length;n++)null==C[e].ELC_appliers?C[e].ELC_appliers=[d[n]]:C[e].ELC_appliers.push(d[n]),null==d[n].ELC_filters?d[n].ELC_filters=[C[e]]:d[n].ELC_filters.push(C[e]),d[n].addEventListener("click",ELC_filter_controller_listener)}}if(null!=C[e].dataset.resetControl){if("."==C[e].dataset.resetControl[0])u=document.getElementsByClassName(C[e].dataset.resetControl.substr(1));else u=document.getElementById(C[e].dataset.resetControl.substr("#"==C[e].dataset.resetControl[0]?1:0));if(null!=u&&(null==u.length||0<u.length)){if("select-multiple"==C[e].type)for(n=0;n<C[e].options.length;n++)C[e].options[n].ELC_resetValue=C[e].options[n].selected;else"checkbox"==C[e].type||"radio"==C[e].type?C[e].ELC_resetValue=C[e].checked:C[e].ELC_resetValue=C[e].value;for(d=null==u.length?[u]:u,n=0;n<d.length;n++)null==C[e].ELC_resetters?C[e].ELC_resetters=[d[n]]:C[e].ELC_resetters.push(d[n]),null==d[n].ELC_filters?d[n].ELC_filters=[C[e]]:d[n].ELC_filters.push(C[e]),d[n].addEventListener("click",ELC_filter_controller_listener)}}if(null!=C[e].dataset.clearControl){if("."==C[e].dataset.clearControl[0])u=document.getElementsByClassName(C[e].dataset.clearControl.substr(1));else u=document.getElementById(C[e].dataset.clearControl.substr("#"==C[e].dataset.clearControl[0]?1:0));if(null!=u&&(null==u.length||0<u.length))for(d=null==u.length?[u]:u,n=0;n<d.length;n++)null==C[e].ELC_clearers?C[e].ELC_clearers=[d[n]]:C[e].ELC_clearers.push(d[n]),null==d[n].ELC_filters?d[n].ELC_filters=[C[e]]:d[n].ELC_filters.push(C[e]),d[n].addEventListener("click",ELC_filter_controller_listener)}-1==C[e].ELC_list_container.ELC_list_filters.indexOf(C[e])&&(C[e].ELC_list_container.ELC_list_filters.push(C[e]),null==C[e].ELC_appliers&&(C[e].addEventListener("keyup",ELC_filter_change_listener),C[e].addEventListener("change",ELC_filter_change_listener)),""!=C[e].value&&ELC_filter_change_listener.call(C[e],i))}var p=document.getElementsByClassName("page-current");for(e=0;e<p.length;e++)p[e].ELC_list_container=ELC_getListContainer(p[e],"paged",["page-current","page-group"]),null!=p[e].ELC_list_container&&-1==p[e].ELC_list_container.ELC_currentpage_indicators.indexOf(p[e])&&p[e].ELC_list_container.ELC_currentpage_indicators.push(p[e]);var f=document.getElementsByClassName("page-max");for(e=0;e<f.length;e++)f[e].ELC_list_container=ELC_getListContainer(f[e],"paged",["page-max","page-group"]),null!=f[e].ELC_list_container&&-1==f[e].ELC_list_container.ELC_maxpage_indicators.indexOf(f[e])&&f[e].ELC_list_container.ELC_maxpage_indicators.push(f[e]);var g=document.getElementsByClassName("pageup");for(e=0;e<g.length;e++)g[e].ELC_list_container=ELC_getListContainer(g[e],"paged",["pageup","page-group"]),null!=g[e].ELC_list_container&&-1==g[e].ELC_list_container.ELC_pageup_buttons.indexOf(g[e])&&(g[e].ELC_list_container.ELC_pageup_buttons.push(g[e]),g[e].addEventListener("click",function(e){this.classList.contains("active")&&(this.ELC_list_container.ELC_current_page=this.ELC_list_container.ELC_current_page-1,ELC_update(this.ELC_list_container,"page"))}));var h=document.getElementsByClassName("pagedown");for(e=0;e<h.length;e++)h[e].ELC_list_container=ELC_getListContainer(h[e],"paged",["pagedown","page-group"]),null!=h[e].ELC_list_container&&-1==h[e].ELC_list_container.ELC_pagedown_buttons.indexOf(h[e])&&(h[e].ELC_list_container.ELC_pagedown_buttons.push(h[e]),h[e].addEventListener("click",function(e){this.classList.contains("active")&&(this.ELC_list_container.ELC_current_page=this.ELC_list_container.ELC_current_page+1,ELC_update(this.ELC_list_container,"page"))}));var m=document.getElementsByClassName("perpage");for(e=0;e<m.length;e++)m[e].ELC_list_container=ELC_getListContainer(m[e],"paged",["perpage","page-group"]),null!=m[e].ELC_list_container&&(m[e].addEventListener("change",ELC_perpage_change_listener),ELC_perpage_change_listener.call(m[e],i));for(var e in l){ELC_update(l[e],"init");var v="TABLE"==l[e].tagName?l[e].tBodies:[l[e]];for(n=0;n<v.length;n++)null==v[n].ELC_MutationObserver&&(v[n].ELC_MutationObserver=new MutationObserver(ELC_observerCallback)),v[n].ELC_MutationObserver.observe(v[n],{childList:!0})}ELC_logFunctionExecution(!1)}document.addEventListener("DOMContentLoaded",ELC_initialize);